import{j as e}from"../../jsx-runtime.0DLF9kdB.js";import{r as c}from"../../index.BThqHjDx.js";import{f as m}from"../../utils._YM1j6na.js";import{f as o,u as h}from"../../ghost.BRQt7hOb.js";import"../../_commonjsHelpers.CqkleIqs.js";function x({post:a}){return a?e.jsxs("article",{className:"bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow",children:[a.feature_image&&e.jsx("a",{href:`/blog/${a.slug}`,children:e.jsx("div",{className:"h-48 overflow-hidden",children:e.jsx("img",{src:a.feature_image,alt:a.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2 line-clamp-2",children:e.jsx("a",{href:`/blog/${a.slug}`,className:"text-gray-800 hover:text-blue-600 transition-colors",children:a.title})}),e.jsxs("p",{className:"text-gray-600 text-sm mb-4",children:[a.published_at&&e.jsx("time",{dateTime:a.published_at,children:m(a.published_at)}),a.reading_time&&e.jsxs("span",{className:"ml-3",children:[a.reading_time," min read"]})]}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:a.excerpt}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"flex items-center",children:a.primary_author&&e.jsxs(e.Fragment,{children:[a.primary_author.profile_image?e.jsx("img",{src:a.primary_author.profile_image,alt:a.primary_author.name,className:"w-8 h-8 rounded-full mr-2"}):e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:a.primary_author.name})]})}),e.jsx("a",{href:`/blog/${a.slug}`,className:"text-sm text-blue-600 hover:text-blue-800 transition-colors",children:"Read more â†’"})]})]})]}):null}function u({posts:a}){const[r,l]=c.useState(1),{data:i,loading:n}=h("posts",{page:r,limit:10,include:"authors,tags"}),t=a||i||[];return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-6",children:"Blog"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:n?Array(6).fill().map((s,d)=>e.jsx("div",{className:"bg-gray-200 animate-pulse h-64 rounded-lg"},d)):t.map(s=>e.jsx(x,{post:s},s.id))}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx("button",{onClick:()=>l(s=>Math.max(1,s-1)),disabled:r===1,className:"px-4 py-2 bg-gray-200 rounded disabled:opacity-50",children:"Previous"}),e.jsxs("span",{className:"px-4 py-2",children:["Page ",r]}),e.jsx("button",{onClick:()=>l(s=>s+1),disabled:!t||t.length<10,className:"px-4 py-2 bg-gray-200 rounded disabled:opacity-50",children:"Next"})]})]})}async function y(){const{posts:a}=await o("posts",{page:1,limit:10,include:"authors,tags"});return{posts:a}}const N={Page:u,documentProps:{title:"Blog | My SSR App",description:"Read our latest blog posts"}};export{N as default,y as fetchData};
