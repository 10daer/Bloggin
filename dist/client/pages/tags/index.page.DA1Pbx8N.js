import{j as e}from"../../jsx-runtime.0DLF9kdB.js";import{r as g}from"../../index.BThqHjDx.js";import{C as h}from"../../Card.DFqFG66N.js";import{f as p}from"../../ghost.BRQt7hOb.js";import"../../_commonjsHelpers.CqkleIqs.js";function u({tag:t}){var s;const[o,a]=g.useState(!1);return e.jsxs(h,{className:"hover:shadow-lg transition-shadow relative w-full h-full flex flex-col overflow-hidden",children:[!o&&e.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col gap-4 animate-pulse bg-white rounded",children:[e.jsx("div",{className:"h-40 w-full bg-gray-200 rounded"}),e.jsxs("div",{className:"px-5 flex-grow gap-2 flex flex-col",children:[e.jsx("div",{className:"h-6 w-3/4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-10 w-full bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 w-1/2  px-2 py-1 bg-gray-200 rounded"})]}),e.jsx("div",{className:"mx-6 h-6 mb-4 w-3/4 bg-gray-200 rounded mt-auto"})]}),e.jsxs("a",{href:`/tags/${t.slug}`,className:`block h-full flex flex-col transition-opacity duration-500 ${o?"opacity-100":"opacity-0"}`,children:[e.jsx("div",{className:"relative w-full h-40 flex-none",children:e.jsx("img",{src:t.feature_image||"https://placehold.co/400x160",alt:t.name,className:"w-full h-full object-cover rounded-t",onLoad:()=>a(!0),loading:"lazy"})}),e.jsxs("div",{className:"px-6 py-3 flex-grow gap-2 flex flex-col",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 ",children:t.name}),t.description?e.jsx("p",{className:"text-gray-600 line-clamp-3 leading-[1.2]",children:t.description}):e.jsx("div",{className:"h-10"}),e.jsx("div",{className:"mt-auto",children:e.jsxs("span",{className:"bg-blue-100 text-blue-800 rounded px-2 py-1 text-sm",children:[((s=t.count)==null?void 0:s.posts)||0," posts"]})})]}),e.jsxs("div",{className:"flex items-center justify-between px-6 mt-auto mb-4 border-t border-gray-100",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Explore collection"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-indigo-600 dark:text-indigo-400 transform group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]})]},t.id)}function f({tags:t,featuredTags:o,popularTags:a}){return!t||t.length===0?e.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"No Tags Found"}),e.jsx("p",{className:"text-gray-600",children:"We don't have any tags available at the moment."}),e.jsx("a",{href:"/",className:"inline-block mt-6 px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition-colors",children:"Back to Homepage"})]}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("section",{className:"mb-12 text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Explore Topics"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Browse all our content categories and find exactly what you're looking for."})]}),o&&o.length>0&&e.jsxs("section",{className:"mb-16",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Featured Topics"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(s=>e.jsx(u,{tag:s},s.id))})]}),a&&a.length>0&&e.jsxs("section",{className:"mb-16",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Popular Topics"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:a.map(s=>{var r;return e.jsxs("a",{href:`/tags/${s.slug}`,className:"bg-gray-100 hover:bg-gray-200 text-gray-800 px-4 py-2 rounded-full transition-colors flex items-center",children:[e.jsxs("span",{className:"mr-2",children:["#",s.name]}),e.jsx("span",{className:"bg-gray-200 text-gray-700 px-2 py-0.5 rounded-full text-xs",children:((r=s.count)==null?void 0:r.posts)||0})]},s.id)})})]}),e.jsxs("section",{className:"mb-16",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"All Topics"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(s=>e.jsxs("a",{href:`/tags/${s.slug}`,className:"bg-white hover:bg-gray-50 border border-gray-200 rounded-lg p-4 transition-colors flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium text-gray-800",children:["#",s.name]}),s.count&&e.jsxs("span",{className:"text-sm text-gray-500",children:[s.count.posts," ",s.count.posts===1?"post":"posts"]})]}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},s.id))})]}),e.jsxs("section",{className:"mb-16",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Tag Cloud"}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8",children:e.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:t.map(s=>{var n;const r=((n=s.count)==null?void 0:n.posts)||0,c=Math.max(...t.map(m=>{var d;return((d=m.count)==null?void 0:d.posts)||0})),l=1,i=r>0?l+r/c*(1.75-l):l;return e.jsxs("a",{href:`/tags/${s.slug}`,className:"text-blue-600 hover:text-blue-800 transition-colors",style:{fontSize:`${i}rem`},children:["#",s.name]},s.id)})})})]}),e.jsxs("section",{className:"mb-16 bg-indigo-50 p-8 rounded-lg shadow-sm text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold text-indigo-900 mb-3",children:"Looking for Something Specific?"}),e.jsx("p",{className:"text-indigo-800 mb-6 max-w-2xl mx-auto",children:"If you can't find what you're looking for in our topics, try using our search feature or contact us for assistance."}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx("a",{href:"/search",className:"px-5 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition-colors",children:"Search Content"}),e.jsx("a",{href:"/contact",className:"px-5 py-2 bg-white text-indigo-600 border border-indigo-600 rounded hover:bg-indigo-50 transition-colors",children:"Contact Us"})]})]})]})}async function v(){try{const{tags:t}=await p("tags",{include:"count.posts",limit:"all"});if(!t||t.length===0)return{pageContext:{tags:[]}};const o=[...t].sort((r,c)=>{var i,n;const l=((i=r.count)==null?void 0:i.posts)||0;return(((n=c.count)==null?void 0:n.posts)||0)-l}),a=t.filter(r=>r.featured===!0),s=o.slice(0,10);return{pageContext:{pageProps:{tags:t,featuredTags:a.length>0?a:o.slice(0,3),popularTags:s}}}}catch(t){return console.error("Error fetching tags:",t),{pageContext:{pageProps:{tags:[],error:"Failed to load tags"}}}}}const k={Page:f,documentProps:{title:"Browse All Topics | My SSR App",description:"Explore all content topics and categories in our blog",openGraph:{title:"Browse All Topics | My SSR App",description:"Explore all content topics and categories in our blog",type:"website",image:"/images/tags-meta-image.jpg"}}};export{k as default,v as onBeforeRender};
